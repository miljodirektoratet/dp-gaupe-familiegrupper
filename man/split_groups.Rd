% Generated by roxygen2: do not edit by hand
% Please edit documentation in R/split_groups.R
\name{split_groups}
\alias{split_groups}
\title{Split and Optimize Lynx Family Groups}
\usage{
split_groups(group_assignments, grouping_indicator, distance_matrix)
}
\arguments{
\item{group_assignments}{An integer vector of initial group assignments for each observation.}

\item{grouping_indicator}{A logical or numeric matrix where \code{TRUE} (or 1) indicates
that two observations can be grouped together based on distance/temporal rules.}

\item{distance_matrix}{A numeric matrix of pairwise distances between observations.}
}
\value{
An integer vector of optimized group assignments with the same length as
the input \code{group_assignments}. Group IDs may have changed, and the total number
of groups may be reduced compared to the input.
}
\description{
Iteratively attempts to split groups and relocate observations to alternative
groups to reduce the total number of family groups while maintaining grouping
validity based on spatial-temporal criteria.
}
\details{
The algorithm iteratively:
\enumerate{
\item Examines each group to see if observations can be reassigned to other groups
\item For single-observation groups, checks if they can join existing groups
\item For multi-observation groups, checks if all members can be reassigned
\item When multiple alternative groups exist, selects the one minimizing total internal distance
\item Continues until no further group reduction is possible
}

The optimization criterion is to minimize the sum of internal distances within
all groups while ensuring all observations within each group satisfy the grouping
indicator constraints.
}
\examples{
\dontrun{
# Create sample data
group_assignments <- c(1, 1, 2, 3, 3)
grouping_indicator <- matrix(c(
  TRUE, TRUE, TRUE, FALSE, FALSE,
  TRUE, TRUE, TRUE, FALSE, FALSE,
  TRUE, TRUE, TRUE, FALSE, FALSE,
  FALSE, FALSE, FALSE, TRUE, TRUE,
  FALSE, FALSE, FALSE, TRUE, TRUE
), nrow = 5, byrow = TRUE)
distance_matrix <- matrix(c(
  0, 10, 15, 100, 105,
  10, 0, 12, 98, 103,
  15, 12, 0, 95, 100,
  100, 98, 95, 0, 8,
  105, 103, 100, 8, 0
), nrow = 5, byrow = TRUE)

# Optimize groups
optimized <- split_groups(group_assignments, grouping_indicator, distance_matrix)
# Expected: Groups 1 and 2 merged since all can group together
}

}
